<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>details｜KAWAROBO</title>
  <meta name="description" content="かわいいロボットの詳細">
  <meta name="viewport" content="width=device-width">
  <script src="./js/toggle-menu.js"></script>
  <link href="./css/common.css" rel="stylesheet">
  <link href="./css/details.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic&display=swap" rel="stylesheet">
</head>

<body>
  <header class="header">
    <div class="header-inner">
      <a class="header-logo" href="./index.html">
        <img src="./images/kawarobo/logo3.svg" alt="KAWAROBO">
      </a>
      <button class="toggle-menu-button"></button>
      <div class="header-site-menu">
        <nav class="site-menu">
          <ul>
            <li><a href="./concept.html">CONCEPT</a></li>
            <li><a href="./history.html">HISTORY</a></li>
            <li><a href="./details.html">DETAILS</a></li>
            <li><a href="./survey.html">SURVEY</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="title">
      <h1>DETAILS</h1>
    </div>

  <div class="con">

    <div class="use">
      <h3>頭部分に主に使用したもの</h3>
      <p>・RasberryPi4 modelB 8GB</p>
      <p>・ESP32</p>
      <p>・OAK-D-LITE</p>
      <p>・SG90サーボモーター×2</p>
      <p>・ASRock H2R (HDMI 2-in-1 ルーター)</p>
      <p>・単三電池×4/電池ボックス/5Vモバイルバッテリー</p>

    </div>
    

    <div class="contents">
      <h3>システム・回路(頭部分)</h3>
      <ul class="list2">
        <li class="item-1"><p>回路図</p></li>
        <li class="item-2"><p>システム概要図</p></li>
        <li class="item-3"><img src="./images/kawarobo/kairo3.png" alt="回路図" class="p80"></li>
        <li class="item-4"><img src="./images/kawarobo/sisugai.png" alt="システム概要図" class="p80"></li>
      </ul>
    </div>
    
    <div class="contents">
      <h3>PIカメラとOAK-D-Liteの比較</h3>
      <ul class="list4">
        <li>
          <div class="img1">
            <img src="./images/kawarobo/picam.jpg" alt="パイカメラ">
          </div>
        </li>

        <li>
          <p1>PIカメラ<br></p1>
          <p2>フレームレート<br>→約3.3FPS<br>実際のラグ<br>→約2.4s</p2>
        </li>
        
        <li>
          <div class="img1">
            <img src="./images/kawarobo/oak.jpg" alt="OAK">
          </div>
        </li>

        <li>
          <p1>OAK-D-LITE<br></p1>
          <p2>フレームレート<br>→約18.3FPS<br>実際のラグ<br>→約0.7s</p2>
        </li>
      </ul>

      <ul class="list2">
        <li><img src="./images/kawarobo/paicam3.gif" alt="パイカメラのラグ"class="p80"></li>
        <li><img src="./images/kawarobo/oak3.gif" alt="OAKのカメラのラグ"class="p80"></li>
      </ul>
    </div>

    <div class="contents">
      <h3>OAK-D-LITEでできること</h3>   
      <p>物体検知・<p3>座標取得(xyz平面)</p3>・姿勢推移・<p3>顔,手認識</p3>etc...</p>
      <ul class="cando-list">
        <li class="o1"><div class="img2"><img src="./images/kawarobo/cando_oak1.png" alt="cando_oak1"></div></li>
        <li class="o2"><div class="img1"><img src="./images/kawarobo/hand-1.png" alt="3"></div></li>
        <li class="o3"><div class="img1"><img src="./images/kawarobo/hand-2.png" alt="4"></div></li>
        <li class="o4"><div class="img1"><img src="./images/kawarobo/hand-3.png" alt="5"></div></li>
        <li class="o5"><div class="img1"><img src="./images/kawarobo/hand-4.png" alt="OK"></div></li>
        <li class="o6"><div class="img2"><img src="./images/kawarobo/cando_oak2.jpeg" alt="cando_oak1"></div></li>
        <li class="o7"><div class="img1"><img src="./images/kawarobo/hand-5.png" alt="PEACE"></div></li>
        <li class="o8"><div class="img1"><img src="./images/kawarobo/hand-6.png" alt="FIST"></div></li>
        <li class="o9"><div class="img1"><img src="./images/kawarobo/hand-7.png" alt="RIGHT"></div></li>
        <li class="o10"><div class="img1"><img src="./images/kawarobo/hand-8.png" alt="LEFT"></div></li>
      </ul> 
      <div class="git-container">
        <div class="git">
          <a href="https://github.com/luxonis/depthai-experiments" class="link">
            <div class="git-con">
              <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" class="github-logo">
                <div>
                  <h2>luxonis/depthai-experiments</h2>
                  <p>参考</p>
                </div>
              </div>
          </a>
        </div>
      </div>
    </div>

    <div class="contents">
      <h3>フローチャート全体図</h3>
      <div class="git-container">
        <div class="git">
          <a href="https://github.com/yaotaim/robo/blob/main/kawaii/demo_ver2_ESP.ino" class="link">
            <div class="git-con">
              <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" class="github-logo">
                <div>
                  <h2>yaotaim/robo/blob/main/kawaii/demo_ver2_ESP.ino</h2>
                  <p>ESP32側</p>
                </div>
              </div>
          </a>
        </div>
  
        <div class="git">
          <a href="https://github.com/yaotaim/robo/blob/main/kawaii/kawa_hf2.py" class="link">
              <div class="git-con">
                  <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" class="github-logo">
                  <div>
                    <h2>yaotaim/robo/blob/main/kawaii/kawa_hf2.py</h2>
                    <p>Raspberry Pi側</p>
                  </div>
              </div>
          </a>
        </div>
      </div>
      
      <div class="img3">
        <img src="./images/kawarobo/flow_zentai.drawio.png" alt="LEFT">
      </div>
    </div>

      <div class="contents">
        <h3>実際にデモで行った動き</h3>
        <div class="demo">
          <p>・スマホ・パソコンから操作</p>
          <div class="list2-2">
            <div class="item1">
              <div class="img5">
                <img src="./images/kawarobo/raspi_sousa_flow.png" alt="ESPフロチャ">
              </div>
            </div>
            <div class="item2">
              <div class="img4">
                <img src="./images/kawarobo/UIsousa2.gif" alt="UI操作">
              </div>
            </div>
          
            <div class="item3">
              <div class="img4">
                <img src="./images/kawarobo/UI_kai.gif" alt="UI">
              </div>
            </div>
          </div>
        </div>
        
        <div class="demo">
          <p>・顔追従</p>
          <div class="list2-2">
            <div class="item1">
              <div class="img7">
                <img src="./images/kawarobo/face.drawio.png" alt="顔追従フロチャ">
              </div>
            </div>
            <div class="item2">
              <div class="img6">
                <img src="./images/kawarobo/demo_face_moza.gif" alt="顔追従">
              </div>
            </div>
            <div class="item3">
              <div class="img6">
                <img src="./images/kawarobo/zahyou.drawio.png" alt="座標">
              </div>
            </div>
          </div>
        </div>
        
        <div class="demo">
          <p>・ハンドジェスチャー操作</p>
          <div class="img8">
            <img src="./images/kawarobo/hand_jes.drawio.png" alt="ESPフロチャ">
          </div>
          <ul class="list2">
            <li class="d1"><p2>指差し指示</p2></li>
            <li class="d2"><p2>指差し指示（正面から)</p2></li>
            <li class="d3"><div class="img9"><img src="./images/kawarobo/yubisasi.gif" alt="ESPフロチャ"></div></li>
            <li class="d4"><div class="img9"><img src="./images/kawarobo/hand_right.gif" alt="ESPフロチャ"></div></li>
            <li class="d5"><p2>ピース追従</p2></li>
            <li class="d6"><p2>あっち向いてホイ</p2></li>
            <li class="d7"><div class="img9"><img src="./images/kawarobo/PEASE.gif" alt="ESPフロチャ"></div></li>
            <li class="d8"><div class="img9"><img src="./images/kawarobo/attimuite.gif" alt="ESPフロチャ"></div></li>
          </ul>
        </div>
      </div>
    
      <div class="kaizen">
        <h3>更なる進化を遂げるための課題</h3>
        <h4>1.コミュニケーションのバリエーションを増やす</h4>
        <h5>改善方法:</h5>
        <p>1.指先の軌道を記憶し頭部分が再現するなど自動操作のハンドジェスチャー操作を追加する。</p>
        <p>2.頭と体を合体し,体の動作もコミュニケーションの要素として追加する。</p>
        <p>3.ロール軸を増やし、不明なジェスチャーを認識したときに頭を傾げるなど頭の自由度を増やす。</p> 
        <p>　</p>
        <h4>2.プログラムが不完全で,かわいい要素を損なう要素がある</h4>
        <h5>改善方法:</h5>
        <p>1.現在、同様のジェスチャー認識をし続けた時にサーボ制御をしており、その時間的な調整をより試行錯誤する必要がある。</p>
        <p>2.「ゆるやかな動作」が「かわいい」につながると考えられるため、ぎこちなさを感じさせず、より滑らかにサーボを動かす必要がある。</p>
        <p>3.顔追従の際に追従より先に顔がフレームアウトした際にも、適切に追従を続けるようにするなどプログラムの改善余地がある。</p> 
        <p>4.サーボモーターの動作音が気になったので、ロボット自体から音(声)を出し、紛らわせる、または、より静かに動作するサーボを選定やハード的に音を遮断できるように工夫する。</p>
        <p>　</p>
   

        <h4>2.頭部をカメラをにするのをやめる</h4>
        <p>長期的に動かすと仮定し、足制御の負担(重心の移動)を考えると頭をカメラにするの
          ことは最善策ではないと感じた。また,あっち向いてホイが指差されたジェスチャーを見る必要
          があるため後出しになってしまっている.</p>
        <h5>改善方法:</h5>
        <p>カメラを胴体に移動する。この場合、顔自体がカメラになっていないので、現在の追従方法が使用できなく顔追従の際には計算で角度を求めることが必要不可欠となる。</p>
        <div class="img13">
          <img src="./images/kawarobo/keisan.png" alt="ESPフロチャ">
        </div>
        <p>　</p>

        <h4>3.カメラを胴体に移動し計算で角度を頭を移動するために問題がある</h4>
        <p>現在はプログラムのループ上にサーボを組み込んでおり、サーボ制御時にはカメラのフレーム取得が止まってしまう。よって、数式で求めた角度でサーボを制御しても、滑らかかつ、早く追従することができないだろう。</p>
        <h5>改善方法:</h5>
        <p>この問題を解決するには、ESP側でサーボを動かす制御する必要がある。そのために、サーボ2つの角度の数値をラズパイからESP32に送る必要があるため、ESP32にLANモジュールをつけ、ラズパイとUDP通信し、2つの数値を送り続け、現在の角度を受け取った数値に向けて少しずつ移動するなど通信方法を見直す必要があるだろう。</p>
        <p>　</p>

        <h4>4.このwebサイトの改善</h4>
        <p>動作を表示したいあまり、gifを多用しているためwebページの読み込みが遅い。コンテンツが少ない。
        <h5>改善方法:</h5>
        <p>1.web上に掲載するのは画像にとどめ、動画は1つにまとめる。</p>
        <p>2.コンセプトムービーや使用手順、PHPを使ってwebページ上で動的に投票を収集するシステムを作成する。</p>
        <p>　</p>
        
      </div>
    </div>
  </main>

  <footer class="footer">
    <nav class="site-menu">
      <ul>
        <li><a href="./concept.html">CONCEPT</a></li>
        <li><a href="./history.html">HISTORY</a></li>
        <li><a href="./details.html">DETAILS</a></li>
        <li><a href="./survey.html">SURVEY</a></li>
      </ul>
    </nav>
    <a class="footer-logo" href="./index.html">
      <img src="./images/kawarobo/logo2-whi2.svg" alt="スケロゴ">
    </a>
    <p class="footer-tel">X22048</p>
    <p class="footer-time">TANAKA EIJI</p>
    <p class="copyright"><small>&copy;KAWAROBO</small></p>
  </footer>

</body>

</html>